type User {
    UserId: String!
    Username: String
    Name: String
    Books: [Book]
}

type Book {
    UserId: String!
    BookId: String
    CreatedTime: String
    Title: String
}

type Transaction {
    BookId: String!
    TransactionId: String!
    UserId: String!
    Title: String!
    Amount: Int!
    Catergory: String!
    Description: String!
    CreatedTime: String!
    UpdatedTime: String!
    LastChangeBy: User
    IsApproved: Boolean
}

type Query {
    getUser: User
    getTransactions(input: String!): [Transaction]
}

type Mutation {
    postTransaction(input: TransactionInput!): String!
}

input TransactionInput {
    BookId: String!
    OwnerId: String!
    TransactionId: ID
    Title: String!
    Amount: Int!
    Catergory: String!
    Description: String!
    CreatedTime: AWSDateTime
    UpdatedTime: AWSDateTime
}

#set($attribs.IsApproved = false)
#if($attribs.OwnerId == $context.identity.sub)
  #set($attribs.IsApproved = true)
#end
#